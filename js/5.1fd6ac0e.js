(globalThis["webpackChunktamponati_client"]=globalThis["webpackChunktamponati_client"]||[]).push([[5],{3245:(o,e,t)=>{"use strict";t.d(e,{Z:()=>n,e:()=>i});var a=t(4562);const n={id:null,nomecompleto:"",tipo:null,cf:""},i=(0,a.r8)((()=>(0,a.y$)("vue-tamponati",{...n},sessionStorage)))},5:(o,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>z});var a=t(3673);const n={key:1},i=(0,a.Wm)("h1",null,"Medico",-1),l={key:2},u=(0,a.Wm)("h1",null,"Datore di Lavoro",-1),r={key:4},s=(0,a.Wm)("h1",null,"TAMPONATI",-1),p=(0,a.Wm)("h2",null,"Prenota il tuo tampone presso i laboratori piu vicini a te",-1);function c(o,e,t,c,d,m){const g=(0,a.up)("cittadino-home"),f=(0,a.up)("laboratorio-home"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,{class:"flex flex-center"},{default:(0,a.w5)((()=>[(0,a.Wm)("section",null,[o.state.tipo&&1==o.state.tipo?((0,a.wg)(),(0,a.j4)(g,{key:0})):o.state.tipo&&2==o.state.tipo?((0,a.wg)(),(0,a.j4)("div",n,[i])):o.state.tipo&&3==o.state.tipo?((0,a.wg)(),(0,a.j4)("div",l,[u])):o.state.tipo&&4==o.state.tipo?((0,a.wg)(),(0,a.j4)(f,{key:3})):((0,a.wg)(),(0,a.j4)("div",r,[s,p]))])])),_:1})}var d=t(1762),m=t(2490),g=t(3245);const f=(0,a.Wm)("h1",null,"Cittadino",-1);function v(o,e,t,n,i,l){const u=(0,a.up)("q-btn"),r=(0,a.up)("q-page-sticky");return(0,a.wg)(),(0,a.j4)("div",null,[f,(0,a.Wm)(r,{position:"bottom-right",offset:[24,24]},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{fab:"",icon:"add",label:"Nuova Prenotazione",color:"primary",onClick:o.openPrenota},null,8,["onClick"])])),_:1})])}var b=t(8825),W=t(8880);const Z=(0,a.Wm)("div",{class:"text-h6"},"Prenota Tampone",-1);function w(o,e,t,n,i,l){const u=(0,a.up)("q-card-section"),r=(0,a.up)("q-separator"),s=(0,a.up)("q-select"),p=(0,a.up)("q-date"),c=(0,a.up)("q-btn"),d=(0,a.up)("q-card-actions"),m=(0,a.up)("q-form"),g=(0,a.up)("q-card"),f=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(f,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-dialog-plugin"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{onSubmit:(0,W.iM)(o.doRegister,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[Z])),_:1}),(0,a.Wm)(r),(0,a.Wm)(u,{class:"col q-gutter-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:o.tipotampone,"onUpdate:modelValue":e[1]||(e[1]=e=>o.tipotampone=e),outlined:"",options:o.options,label:"Tipo di Tampone"},null,8,["modelValue","options"]),(0,a.Wm)(s,{modelValue:o.id_laboratorio,"onUpdate:modelValue":e[2]||(e[2]=e=>o.id_laboratorio=e),outlined:"",options:o.options,label:"Laboratorio"},null,8,["modelValue","options"]),(0,a.Wm)(p,{modelValue:o.data,"onUpdate:modelValue":e[3]||(e[3]=e=>o.data=e),minimal:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(r),(0,a.Wm)(d,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(c,{label:"Annulla",color:"grey",flat:""},null,512),[[v]]),(0,a.Wm)(c,{type:"submit",color:"primary",label:"Prenota",flat:""})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["onHide"])}var h=t(1959),y=t(1701);const _=(0,a.aZ)({name:"PrenotaTampone",props:{id:{type:String,default:null}},emits:[...y.Z.emits],setup(){const{dialogRef:o,onDialogOK:e,onDialogHide:t}=(0,y.Z)(),a=((0,g.e)(),(0,h.iH)("")),n=(0,h.iH)(""),i=(0,h.iH)("");return{dialogRef:o,onDialogOK:e,onDialogHide:t,tipotampone:a,id_laboratorio:n,data:i,options:["Molecolare","Antigenico"]}}});var k=t(5926),q=t(151),Q=t(8689),C=t(5589),P=t(5869),H=t(9396),j=t(6915),S=t(9367),V=t(8240),D=t(677),T=t(7518),A=t.n(T);_.render=w;const x=_;A()(_,"components",{QDialog:k.Z,QCard:q.Z,QForm:Q.Z,QCardSection:C.Z,QSeparator:P.Z,QSelect:H.Z,QDate:j.Z,QCardActions:S.Z,QBtn:V.Z}),A()(_,"directives",{ClosePopup:D.Z});const L=(0,a.aZ)({name:"CittadinoHome",setup(){const o=(0,b.Z)(),e=()=>{o.dialog({component:x}).onOk((async o=>{}))};return{openPrenota:e}}});var M=t(1007);L.render=v;const O=L;A()(L,"components",{QPageSticky:M.Z,QBtn:V.Z});const R=(0,a.Wm)("h1",null,"Laboratorio",-1);function B(o,e,t,n,i,l){const u=(0,a.up)("q-btn"),r=(0,a.up)("q-page-sticky");return(0,a.wg)(),(0,a.j4)("div",null,[R,(0,a.Wm)(r,{position:"bottom-right",offset:[24,24]},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{fab:"",icon:"date_range",label:"Calendario",to:"/calendario",color:"primary"})])),_:1})])}const U=(0,a.aZ)({name:"CittadinoHome",setup(){}});U.render=B;const I=U;A()(U,"components",{QPageSticky:M.Z,QBtn:V.Z});const K=(0,a.aZ)({name:"PageIndex",components:{CittadinoHome:O,LaboratorioHome:I},setup(){const{isAuthenticated:o,user:e}=(0,d.a)(m.auth),t=(0,g.e)();return o&&e.value&&e.value.uid&&m.db.collection("users").doc(e.value.uid).get().then((o=>{if(o.exists){const a=o.data();t.value.id=e.value.uid,t.value.nome=a.nome,a.tipo_utente>2?t.value.nomecompleto=a.nome:(t.value.nomecompleto=a.nome+" "+a.cognome,t.value.cognome=a.cognome),t.value.tipo=a.tipo_utente,t.value.cf=a.codicefiscale}})),{state:t}}});var N=t(4379);K.render=c;const z=K;A()(K,"components",{QPage:N.Z})}}]);